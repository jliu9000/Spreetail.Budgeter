@model Spreetail.Budgeter.ViewModels.Home.HomeViewModel

<h1>Budgeter</h1>

<div style="margin-bottom:20px;">
    @if (Model.ErrorMessage?.Count > 0) {
        foreach (var error in Model.ErrorMessage) {
            <span class="alert-danger">@error</span> <br />
        }
    }
</div>


<form>

    @Html.HiddenFor(x => x.FormAction, new { id = "hdnAction" })
    <div class="form-group">
        @Html.TextBoxFor(x => x.Name, new { Class = "form-control", placeholder="Enter a Budget Name" })
    </div>
    <div class="form-group w-25">
        <button class="btn btn-primary" id="create-new">Create New</button> or
        <button class="btn btn-primary" id="goto-existing">Goto an Existing List</button>
    </div>
</form>

@section scripts {

    <script>
    $('#create-new').click(() => {
        $("#hdnAction").val("@Spreetail.Budgeter.ViewModels.Home.HomeViewModel.FormActions.CreateNew.ToString()");
        $('form').submit();
    });

    $('#goto-existing').click(() => {
        $("#hdnAction").val("@Spreetail.Budgeter.ViewModels.Home.HomeViewModel.FormActions.GetExisting.ToString()");
        $('form').submit();
    });
    </script>

}
